<!DOCTYPE html>
<html lang="ZH-CH">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Goalkeeper">
    <title>Androidj传递对象的三种方式 - Goalkeeper</title>
    <meta name="author" content="walk-code">
    <meta name="description" content="Goalkeeper">
    
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="在Android中，Activity和Fragment、Activity和Fragment之间传递对象，可以通过对象序列化存入Intent,Bundle进行传递，也可以通过将对象转化成Json字符串，进行传递。对象的序列化可以通过使用Java的’Serializable’的接口、’Parcelable’接口(Android)。转化成’Json字符串’，可以使用Gson的类库。
Serializab">
<meta property="og:type" content="blog">
<meta property="og:title" content="Androidj传递对象的三种方式">
<meta property="og:url" content="http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/index.html">
<meta property="og:site_name" content="Goalkeeper">
<meta property="og:description" content="在Android中，Activity和Fragment、Activity和Fragment之间传递对象，可以通过对象序列化存入Intent,Bundle进行传递，也可以通过将对象转化成Json字符串，进行传递。对象的序列化可以通过使用Java的’Serializable’的接口、’Parcelable’接口(Android)。转化成’Json字符串’，可以使用Gson的类库。
Serializab">
<meta property="og:image" content="http://www.jcodecraeer.com/uploads/20150104/1420344818993474.png">
<meta property="og:updated_time" content="2015-11-10T15:56:41.826Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Androidj传递对象的三种方式">
<meta name="twitter:description" content="在Android中，Activity和Fragment、Activity和Fragment之间传递对象，可以通过对象序列化存入Intent,Bundle进行传递，也可以通过将对象转化成Json字符串，进行传递。对象的序列化可以通过使用Java的’Serializable’的接口、’Parcelable’接口(Android)。转化成’Json字符串’，可以使用Gson的类库。
Serializab">
    
    
    
        <meta property="og:image" content="/assets/images/author.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css" type="text/css">
    <!--STYLES END-->
    
</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Goalkeeper</a>
    </h1>
    
        
            <a  class="header-right-icon st-search-show-outputs"
                href="/#search">
        
                <i class="fa fa-lg fa-search"></i>
            </a>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
    <div class="sidebar-profile">
        <a href="/#about">
            
            <img class="sidebar-profile-picture" src="/assets/images/author.jpg"/>
            
        </a>
        <span class="sidebar-profile-name">walk-code</span>
    </div>
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/ 
                    ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-categories
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-tags
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-archives
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs"
                    href="/#search
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/#about
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/atom.xml
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">Androidj传递对象的三种方式</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Tue Nov 10 2015 22:52:15 GMT+0800">
        Nov 10, 2015
    </time>
    
</div>
</div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        
            <p>在Android中，Activity和Fragment、Activity和Fragment之间传递对象，可以通过对象序列化存入Intent,Bundle进行传递，也可以<br>通过将对象转化成Json字符串，进行传递。<br>对象的序列化可以通过使用Java的’Serializable’的接口、’Parcelable’接口(Android)。转化成’Json字符串’，可以使用Gson的类库。</p>
<h2 id="Serializable">Serializable</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class Goods implements Serializable&#123;</span><br><span class="line">    private String images;</span><br><span class="line">	private String goods_name;</span><br><span class="line">	private double price;</span><br><span class="line">	private int stock;</span><br><span class="line">	private String details;</span><br><span class="line">	//setting&amp;getting method</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>传递数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Goods goods = new Goods();</span><br><span class="line">goods.setImages(...);</span><br><span class="line">goods.setPrice(...);</span><br><span class="line">       ....</span><br><span class="line">Intent intent = new Intent(this,Activity);</span><br><span class="line">intent.putExtra(<span class="string">"goods"</span>,goods);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>接收数据<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Goods goods = getIntent().getSerializableExtra(<span class="string">"goods"</span>);</span><br><span class="line">.....</span><br></pre></td></tr></table></figure></p>
<p>###Json字符串<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Goods goods = new Goods();</span><br><span class="line">goods.setImages(...);</span><br><span class="line">goods.setPrice(...);</span><br><span class="line">       ....</span><br><span class="line">Intent intent = new Intent(this,Activity);</span><br><span class="line">intent.putExtra(<span class="string">"goods"</span>,new Gson().toJson(goods</span><br><span class="line">startActivity();</span><br></pre></td></tr></table></figure></p>
<p>接收数据<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> String bookJson=getIntent().getStringExtra("book");</span><br><span class="line"> Book book=new Gson().fromJson(bookJson,Book.class);</span><br><span class="line">``` </span><br><span class="line">###Parcelable</span><br><span class="line"></span><br><span class="line">实现'Parcelable'接口需要实现两个方法</span><br><span class="line"></span><br><span class="line">describeContents方法。内容接口描述，通常返回0;</span><br><span class="line"></span><br><span class="line">writeToParce方法。将传递的数据打包到Parcel容器中。</span><br><span class="line"></span><br><span class="line">除了要实现这两个方法还必须创建一个'Parcelable.Creator'接口的实例，用于读取Parcel容器中的数据。</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">public class Goods implements Parcelable&#123;</span><br><span class="line">    private String images;</span><br><span class="line">	private String goods_name;</span><br><span class="line">	private double price;</span><br><span class="line">	private int stock;</span><br><span class="line">	private String details;</span><br><span class="line">	//setting&amp;getting </span><br><span class="line">	</span><br><span class="line">	 @Override</span><br><span class="line">    public int describeContents() &#123;</span><br><span class="line"> </span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public void writeToParcel(Parcel dest, int flags) &#123;</span><br><span class="line">        //该方法将类的数据写入外部提供的Parcel中.即打包需要传递的数据到Parcel容器保存，</span><br><span class="line">        // 以便从parcel容器获取数据</span><br><span class="line">        dest.writeString(name);</span><br><span class="line">        dest.writeInt(id);</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    public static final Creator&lt;Goods&gt; CREATOR=new Creator&lt;Goods&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public Goods createFromParcel(Parcel source) &#123;</span><br><span class="line">            //从Parcel容器中读取传递数据值，封装成Parcelable对象返回逻辑层。</span><br><span class="line">            Goods goods = new Goods();</span><br><span class="line">            goods.setGoods_Name(source.readString());</span><br><span class="line">            goods.setPrice(source.readDouable());</span><br><span class="line">			    ...</span><br><span class="line">            return goods;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Override</span><br><span class="line">        public Author[] newArray(int size) &#123;</span><br><span class="line">            //创建一个类型为T，长度为size的数组，仅一句话（return new T[size])即可。方法是供外部类反序列化本类数组使用。</span><br><span class="line">            return new Goods[size];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>传递数据<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Goods goods = new Goods();</span><br><span class="line">goods.setImages(...);</span><br><span class="line">goods.setPrice(...);</span><br><span class="line">       ....</span><br><span class="line">Intent intent = new Intent(this,Activity);</span><br><span class="line">intent.putExtra(<span class="string">"goods"</span>,goods);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure></p>
<p>接收数据</p>
<pre><code class="python">Goods goods = getIntent().getParcelableExtra(<span class="string">"book"</span>);
</code></pre>
<p>同样的是对对象进行序列化，’Serializable’与’Parcelable’有哪些区别。</p>
<p>###Serializable与Parcelable区别<br>先看看这张图:<br><img src="http://www.jcodecraeer.com/uploads/20150104/1420344818993474.png" alt="file-list"><br>消耗的时间关系 字符串&gt;Serializable&gt;Parcelable ,从性能上看我们会优先选择’Parcelable’,从上面代码可以看出使用’Parcelable’有大量重复的模板代码。</p>
<p>###简化Parcel操作<br>如果你使用android Studio 可以通过安装android-parcelable-intellij-plugin插件，或者自己配置模板进行操作。</p>
<p>###<a href="http://greenrobot.me/devpost/android-parcelable-serializable/" target="_blank" rel="external">区别</a><br>‘Serializable is a standard Java interface. You simply mark a class Serializable by implementing the interface, and Java will automatically serialize it in certain situations.</p>
<p>Parcelable is an Android specific interface where you implement the serialization yourself. It was created to be far more efficient that Serializable, and to get around some problems with the default Java serialization scheme.</p>
<p>I believe that Binder and AIDL work with Parcelable objects.</p>
<p>However, you can use Serializable objects in Intents’<br>上文的意思指Serializable是java提供的接口，Parcelable是Google提供的接口,在AIDL(Android内部进程通讯接口)和Binder(进程通讯机制)中会用到Parcelable<br>无论怎样’Serializable’对象都能在Intent中使用。 Serializable简单易用，Parcelable速度至上</p>

        
        
            
        
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/笔记/">笔记</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/10/07/既是结束也是开始，不要放弃机会/" data-tooltip="既是结束也是开始，不要放弃机会">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
        
            <section id="comments">   
 <!-- ��˵���ۿ� start -->  
	<div class="ds-thread" data-thread-key="post-Androidj传递对象的三种方式" data-title="Androidj传递对象的三种方式" data-url="http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/"></div>  
	<!-- ��˵���ۿ� end --> 
	<!-- ��˵����JS���� start (һ����ҳֻ������һ��) -->  
	<script type="text/javascript">   
	var duoshuoQuery = {short_name:'jianqiji'};   
	(function() {        
	  var ds = document.createElement('script');    
      ds.type = 'text/javascript';ds.async = true;       
	  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';   
	  ds.charset = 'UTF-8';    
      (document.getElementsByTagName('head')[0]      
      || document.getElementsByTagName('body')[0]).appendChild(ds);
     })();   
	</script>  
	<!-- ��˵����JS���� end -->
	</section>
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2015 walk-code. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/10/07/既是结束也是开始，不要放弃机会/" data-tooltip="既是结束也是开始，不要放弃机会">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="1">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://walk-code.github.io/2015/11/10/Androidj传递对象的三种方式/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/author.jpg"/>
        
            <h4 id="about-card-name">walk-code</h4>
        
            <h5 id="about-card-bio"><p>Looking for the truth on the stand on the shoulders of giants</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Android Developer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                GuangZhou
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover_i.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->



</html>
